######################################################################
#                                                                    #
#  Use this file for managing bspwm solely unless a specific effect  #
#  cannot be achieved with xfce4 shortcuts application.              #
#                                                                    #
#  It is alright for shortcuts of xfce4wm to conflict with the       #
#  configuration in this file but no other conflicts should occur.   #
#                                                                    #
#  Remember that lines that have key config and command hashed are   #
#  inactive and will not work.                                       #
#--------------------------------------------------------------------#
#  Some general conventions worth following:                         #
#  * commonly used window key bindings: super + key                  #
#  * special window key bindings: super + shift + key                #
#  * desktop navigation: super + ctrl + key                          #
#                                                                    #
######################################################################


# Bspwm program managing
# _____________

## Cleanly quit bspwm
# super + shift + ctrl + q
#	bspc quit 


# Single window manipulation
# ______________

## Close window
super + shift + q
	bspc node --close

## Close window (alternate)
alt + F4
	bspc node --close

## Kill window
super + shift + k
	bspc  node -k

## Toggle tiling mode of window
super + t
	bspc node -t {pseudo_tiled,tiled}
	
## Toggle fullscreen
super + f 
	bspc node -t {fullscreen,tiled}	

## Make window sticky 
super + shift + s
	bspc node -g sticky

## Lock a window from closing
super + shift + x
	bspc node -g locked 

## Try to keep size and position of the selected window
# super + o
#	bspc node -g private


# Global windows manipulation
# ______________

## Force all windows of the desktop to tile
super + ctrl + t
	bspcp tile

## Force all windows of the desktop to float and arrange them
super + ctrl + shift + t
	bspcp float

## Remove all receptacles (empty window
super + shift + BackSpace
  for i in $(bspc query -N -n .leaf.!window.local); do bspc node $i -k; done


# Window moving and splitting
# ______________    
	
## Preselect window for splitting in certain direction
super + ctrl + {a,s,w,d}
	bspc node -p \~{west,south,north,east} -i

## Preselect window for splitting in certain direction
super + ctrl + {Left,Down,Up,Right}
	bspc node -p \~{west,south,north,east}

## Preselect the desktop for splitting in certain direction
super + shift + {Left,Down,Up,Right}
	bspc node @/ -p \~{west,south,north,east}

## Create a new "master area", splitting the whole desktop instead of just windows.
super + shift + w
	bspc node -n @/
	
## Go to desktop or move focused to desktop if shift is pressed
super + {_,shift + }{1-9,0}
    bspc {desktop -f,node -d} ^{1-9,10}


# Window resizing
# _____________



# Window cycling and juggling
# _____________

## Circulate the leaves of the tree
super + shift + c
	bspc node @/ --circulate forward

## Swap the current node and the biggest node
super + z
	bspc node -s biggest

## Cycle windows
alt + {_,shift + }Tab
    bspc node -f {next,prev}


# Desktop navigating
# _____________

## Select previous / next desktop
super + {m,n}
	bspc desktop -f {prev, next} 

## Select previous / next desktop (alternate)
super + ctrl + {Left, Right}
	bspc desktop -f {prev.occupied,next.occupied} 

## Select previous / next desktop (alternate)
super + ctrl + {Up, Down}
	bspc desktop -f {prev.occupied,next.occupied} 

	

# Layout manipulation/desktop level controls
# ______________

# Toggle monocle mode
super + l 
	bspc desktop -l next
	
# Balance tree
super + b
	bspc node @/ -B

# Balance brother node. If you do this on biggest window of the desktop, it usually means balancing all windows with except the biggest.
super + alt + b
	bspc node @brother -B
	
# Undo balancing (equalize windows)
super + ctrl + b
	bspc node @/ -E

# Toggle automatic balancing of windows
super + shift + b
	euclid_balancer

# Mirror and flip leaves of tree
super + {comma,period}
	bspc node @/ -F {horizontal,vertical}
	
# Rotate leaves of tree
super + shift + {comma,period}
	bspc node @/ -R {90,270}

# Change window gap

super + g
	bspc config -d focused window_gap {$gap,$(($gap+$gap)),$(($gap+$gap+$gap))}

super + button{4,5}
	bspc config -d focused window_gap $((`bspc config -d focused window_gap` {+,-} 2 ))


# Mouse bindings
# ______________


# Touchpad "gestures" (depend on touchpad driver, very likely to be unavailable)
# ______________

## Three finger swipe (left or right) to change desktop
@button{10,11}
	bspc desktop -f {prev,next}    

## Three finger swipe (up)
@button8
	albert toggle

# Media keys (some keyboards have it)
# ______________

XF86AudioRaiseVolume
	volume up

XF86AudioLowerVolume
	volume down

XF86AudioMute
	volume mute
	
XF86MonBrightnessDown
	light -U 5 

XF86MonBrightnessUp
	light -A 5

XF86Sleep
	systemctl suspend


# Other utilities
# ______________

## Make sxhkd reload its configuration files
super + shift + Escape
	pkill -USR1 -x sxhkd

## To open bspwm program in case bspwmrc fails to execute/you have plugged in a new monitor
super + shift + r
	bspwmrc

## Toggle compositing
super + ctrl + space
	{pkill picom ,\
	picom -b }

